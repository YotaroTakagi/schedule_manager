{% extends 'base.html' %}

{% block content %}

<div>
    <h2>予約申請画面(ゲスト)</h2>
</div>
<h3>{{ month }}/{{ day }}の空き状況</h3>

<a href="{% url 'index' %}">TOP</a>
<br>
<a href="{% url 'go_to_calender' %}">カレンダーへ</a>
<br>

<form action='{% url "reservation" %}' method='POST' class='form'>
{% csrf_token %}
    <input type="hidden" name="month" value="{{ day }}">
    <input type="hidden" name="day" value="{{ day }}">
    <input type="hidden" name="username" value="{{ user.username }}">
<div>
    <table class="table col-1">
        <thead>
        <tr class="col-1">
            {% for i in time_1 %}
                <th>
                    {{ i }}
                </th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        <tr class="col-1">
            {% for n in data_1 %}
                {% if n.day_condition == "空き" %}
                    <td>
                        <select name={{ forloop.count }}>
                            <option value="1">予約申請する</option>
                            <option value="2" selected>空き</option>
                        </select>
                    </td>
                {% else %}
                    <td>
                        <select name={{ n }}>
                            <option value="0" selected>予約不可</option>
                            <option value="1" disabled>予約申請する</option>
                        </select>
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>

        <thead>
        <tr class="col-1">
            {% for i in time_2 %}
                <th>
                    {{ i }}
                </th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        <tr class="col-1">
            {% for n in data_2 %}
                {% if n.day_condition == "空き" %}
                    <td>
                        <select name={{ forloop.count }}>
                            <option value="1">予約申請する</option>
                            <option value="2" selected>空き</option>
                        </select>
                    </td>
                {% else %}
                    <td>
                        <select name={{ n }}>
                            <option value="0" selected>予約不可</option>
                            <option value="1" disabled>予約申請する</option>
                        </select>
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>
        <thead>
        <tr class="col-1">
            {% for i in time_3 %}
                <th>
                    {{ i }}
                </th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        <tr class="col-1">
            {% for n in data_3 %}
                {% if n.day_condition == "空き" %}
                    <td>
                        <select name={{ n }}>
                            <option value="1">予約申請する</option>
                            <option value="2" selected>空き</option>
                        </select>
                    </td>
                {% else %}
                    <td>
                        <select name={{ n }}>
                            <option value="0" selected>予約不可</option>
                            <option value="1" disabled>予約申請する</option>
                        </select>
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>

        <thead>
        <tr class="col-1">
            {% for i in time_4 %}
                <th>
                    {{ i }}
                </th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        <tr class="col-1">
            {% for n in data_4 %}
                {% if n.day_condition == "空き" %}
                    <td>
                        <select name={{ n }}>
                            <option value="1">予約申請する</option>
                            <option value="2" selected>空き</option>
                        </select>
                    </td>
                {% else %}
                    <td>
                        <select name={{ n }}>
                            <option value="0" selected>予約不可</option>
                            <option value="1" disabled>予約申請する</option>
                        </select>
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>
        <br>
        <thead>
        <tr class="col-1">
            {% for i in time_5 %}
                <th>
                    {{ i }}
                </th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        <tr class="col-1">
            {% for n in data_5 %}
                {% if n.day_condition == "空き" %}
                    <td>
                        <select name={{ n }}>
                            <option value="1">予約申請する</option>
                            <option value="2" selected>空き</option>
                        </select>
                    </td>
                {% else %}
                    <td>
                        <select name={{ n }}>
                            <option value="0" selected>予約不可</option>
                            <option value="1" disabled>予約申請する</option>
                        </select>
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
        </tbody>

    </table>
</div>
    <br>
    予約パスワード : <input type="text" name="pass">
    <br>
    <br>
    <button type='submit' class='btn btn-outline-primary'>予約申請する(確認画面へ飛ぶ)</button>
</form>

{% endblock %}